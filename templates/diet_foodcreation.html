{% extends "layout.html" %}

{% block title %}
    Food Addition
{% endblock %}

{% block main %}
<h1>Add food or ingredient to catalog</h1>



    <div class="card" style="width: 50rem; margin-left: auto; margin-right: auto;">
        <div class="card-header">
            <button type="button" data-bs-toggle="modal" data-bs-target="#helpModal" style="float: right"><i class="bi bi-question-square-fill"></i> Help</button>
        </div>
        <form action="/customfood" method="post">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    <table class="table table-sm">
                        <tr>
                            <td>Food Type</td>
                            <td>
                                <select name="food_type">
                                    {% for type in food_types %}
                                        <option value='{{ type["id"] }}'>{{ type["type"] }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Food Name</td>
                            <td><input autocomplete="off" autofocus class="form-control mx-auto w-auto" name="name" placeholder="Food Name" required type="text"></td>
                        </tr>
                        <tr>
                            <td>Protien</td>
                            <td><input class="form-control mx-auto w-auto" name="protien" placeholder="Protien (g)" required type="text"></td>
                        </tr>
                        <tr>
                            <td>Carbohydrate</td>
                            <td><input class="form-control mx-auto w-auto" name="carbohydrate" placeholder="Carbohydrate (g)" required type="text"></td>
                        </tr>
                        <tr>
                            <td>Fat</td>
                            <td><input class="form-control mx-auto w-auto" name="fat" placeholder="Fat (g)" required type="text"></td>
                        </tr>
                        <tr>
                            <td>Energy</td>
                            <td><input class="form-control mx-auto w-auto" name="energy" placeholder="Energy (Kcal)" required type="text"></td>
                        </tr>
                        <tr>
                            <td>Weight</td>
                            <td><input class="form-control mx-auto w-auto" name="amount" placeholder="Serving Weight (g)" required type="text"></td>
                        </tr>
                    </table>
                </li>
            </ul>
        <div class="card-footer">
            <button type="submit">Add food to catalog</button>
        </div>
    </form>
    </div>




<br>
<h3>Food items in your catalog</h3>
<div class="row">
        {% for food in custom_foods %}
        <div class="col-sm-3">
            <div class="card" style="width: 75%;">
                <ul class="list-group list-group-flush">
                <li class="list-group-item">100g of <b>{{ food["food_name"] }}</b> <i>({{ food["type"] }})</i></li>
                <li class="list-group-item"><b>Protien:</b> {{ food["protien"] | gkg }}</li>
                <li class="list-group-item"><b>Carbohydrate:</b> {{ food["carbohydrate"] | gkg }}</li>
                <li class="list-group-item"><b>Fat:</b> {{ food["fat"] | gkg }}</li>
                <li class="list-group-item"><b>Energy:</b> {{ food["energy"] | kcal }}</li>
                </ul>
                <div class="card-footer">
                    <form action="/removecustomfood" method="post"><input type="hidden" name="id" value='{{ food["id"] }}'><button type="submit">Remove</button></form>
                </div>
            </div>
            <br>
        </div>
        {% endfor %}
</div>



<!-- Modal -->
<div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="helpModalLabel">Help</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <p>Add a new food or ingredient to the catalog from information found on packaging.</p>
            <img src="/static/images/food-label.jpg">
            <table class="table">
                <tr>
                    <td class="table-secondary">Food Type</td>
                    <td>Select the most appropriate food catagarisation here</td>
                </tr>
                <tr>
                    <td class="table-secondary">Food Name</td>
                    <td>Input the name of the food</td>
                </tr>
                <tr>
                    <td class="table-secondary">Protien, Carbohydrate, Fat</td>
                    <td>Copy from the amount in grams</td>
                </tr>
                <tr>
                    <td class="table-secondary">Energy</td>
                    <td>Copy the amount in Kcal</td>
                </tr>
                <tr>
                    <td class="table-secondary">Weight</td>
                    <td>Copy the service size in grams</td>
                </tr>
            </table>

          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

{% endblock %}